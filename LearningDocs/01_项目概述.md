# 01_项目概述 - ECommerce电商平台学习指南

## 【学习目标】
通过本文档，您将学会：
- 理解什么是微服务架构
- 了解DDD（领域驱动设计）的基本概念
- 掌握整个电商平台的项目结构
- 认识各个微服务的职责分工
- 了解技术栈的选择原因

## 【项目背景】

### 什么是微服务架构？
微服务架构就像把一个大型商场拆分成多个独立的小商店：
- **传统单体应用**：所有功能都在一个巨大的程序中，就像一个大商场
- **微服务架构**：把不同功能拆分成独立的小程序，就像多个专业小商店

**优势：**
- 每个服务可以独立开发、部署、扩展
- 一个服务出问题不会影响其他服务
- 团队可以并行开发不同服务
- 技术栈可以灵活选择

### 什么是DDD（领域驱动设计）？
DDD是一种软件设计方法，核心思想是：
- 按照业务领域来组织代码结构
- 让代码更贴近业务需求
- 提高代码的可维护性和可理解性

## 【项目结构详解】

### 整体架构图
```
ECommercePlatform/
├── 🚪 gateway/                    # API网关层 - 统一入口
├── 🔧 infrastructure/             # 基础设施层 - 通用组件
├── 🏪 services/                   # 业务服务层 - 核心业务
├── 🧪 tests/                      # 测试项目
└── 📚 docs/                       # 项目文档
```

### 各层职责说明

#### 1. 🚪 Gateway（网关层）
**作用：** 就像商场的总服务台，所有客户都要先到这里
- 统一入口：所有请求都从这里进入
- 路由转发：把请求转发到对应的微服务
- 认证授权：检查用户身份和权限
- 限流熔断：保护系统不被过载

#### 2. 🔧 Infrastructure（基础设施层）
**作用：** 提供所有服务都需要的基础工具
- **BuildingBlocks**：通用组件库（日志、配置、异常处理等）
- **SharedKernel**：共享的领域模型（用户、商品等基础实体）

#### 3. 🏪 Services（业务服务层）
**作用：** 每个服务负责一个特定的业务领域

| 服务名称 | 端口 | 职责 | 简单理解 |
|---------|------|------|----------|
| `Identity.API` | 5001 | 用户认证与授权 | 负责用户登录、注册、权限管理 |
| `Product.API` | 5002 | 商品管理 | 负责商品的增删改查 |
| `Cart.API` | 5003 | 购物车管理 | 负责用户购物车操作 |
| `Order.API` | 5004 | 订单管理 | 负责订单的创建、查询、状态管理 |
| `Payment.API` | 5005 | 支付处理 | 负责支付流程处理 |
| `Inventory.API` | 5006 | 库存管理 | 负责商品库存管理 |

## 【技术栈详解】

### 核心技术选择

#### 1. .NET 8
**为什么选择？**
- 微软最新的LTS（长期支持）版本
- 性能优异，内存占用低
- 跨平台支持（Windows、Linux、macOS）
- 丰富的生态系统

#### 2. YARP（Yet Another Reverse Proxy）
**作用：** API网关的核心组件
- 高性能的反向代理
- 支持动态路由配置
- 内置负载均衡
- 易于扩展和定制

#### 3. Entity Framework Core
**作用：** 数据库访问框架
- 对象关系映射（ORM）
- 支持多种数据库（SQL Server、PostgreSQL、MySQL等）
- 自动生成SQL语句
- 支持数据库迁移

#### 4. JWT（JSON Web Token）
**作用：** 用户身份认证
- 无状态认证，不需要在服务器存储会话
- 包含用户信息，减少数据库查询
- 支持跨域认证

## 【学习路径规划】

### 第一阶段：基础概念（已完成）
- ✅ 项目概述和架构理解

### 第二阶段：基础设施学习
- 🔄 02_BuildingBlocks.md - 通用组件库
- 🔄 03_SharedKernel.md - 共享领域模型

### 第三阶段：网关学习
- 🔄 04_APIGateway.md - API网关详解

### 第四阶段：微服务学习
- 🔄 05_IdentityService.md - 身份认证服务
- 🔄 06_ProductService.md - 商品管理服务
- 🔄 07_CartService.md - 购物车服务
- 🔄 08_OrderService.md - 订单管理服务
- 🔄 09_PaymentService.md - 支付服务
- 🔄 10_InventoryService.md - 库存管理服务

### 第五阶段：高级主题
- 🔄 11_测试策略.md - 单元测试和集成测试
- 🔄 12_部署运维.md - Docker部署和监控

## 【示例补充】

### 微服务通信示例
```csharp
// 传统单体应用 - 所有功能在一个项目中
public class OrderController
{
    public async Task<Order> CreateOrder(OrderRequest request)
    {
        // 直接调用其他功能
        var user = userService.GetUser(request.UserId);
        var product = productService.GetProduct(request.ProductId);
        var inventory = inventoryService.CheckStock(request.ProductId);
        
        // 创建订单
        var order = new Order();
        // ... 订单创建逻辑
    }
}

// 微服务架构 - 服务间通过HTTP调用
public class OrderController
{
    public async Task<Order> CreateOrder(OrderRequest request)
    {
        // 通过HTTP调用其他服务
        var user = await httpClient.GetAsync($"/api/users/{request.UserId}");
        var product = await httpClient.GetAsync($"/api/products/{request.ProductId}");
        var inventory = await httpClient.GetAsync($"/api/inventory/{request.ProductId}");
        
        // 创建订单
        var order = new Order();
        // ... 订单创建逻辑
    }
}
```

## 【下一步】
接下来我们将学习 **BuildingBlocks（通用组件库）**，这是所有微服务都会使用的基础设施代码。请查看 `02_BuildingBlocks.md` 文档。

---

**学习提示：**
- 不要急于理解所有细节，先建立整体概念
- 每个概念都可以在实际开发中逐步深入
- 遇到不懂的技术名词，可以暂时跳过，后续会详细讲解
